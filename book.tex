\documentclass[12pt,a4paper,oneside]{book}

% Packages
\usepackage[utf8]{inputenc}
\usepackage[left=0.75in,right=0.75in,top=0.75in,bottom=1in]{geometry}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric,shadows,patterns,positioning,arrows.meta,backgrounds,calc,decorations.pathreplacing,fit}
\usepackage{enumitem}
\usepackage{tcolorbox}
\tcbuselibrary{skins,breakable}
\usepackage{helvet}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{colortbl}
\usepackage{fontawesome5}
\usepackage{adjustbox}

% Font settings
\renewcommand{\familydefault}{\sfdefault}
\setstretch{1.15}

% ============================================
% CONSOLIDATED COLOR DEFINITIONS (DEFINED ONCE)
% ============================================
\definecolor{headerred}{RGB}{213,43,30}
\definecolor{jsyellow}{RGB}{247,223,30}
\definecolor{cssblue}{RGB}{38,77,228}
\definecolor{htmlorange}{RGB}{228,77,38}
\definecolor{codebg}{RGB}{248,249,250}
\definecolor{codeframe}{RGB}{222,226,230}
\definecolor{linenumfg}{RGB}{108,117,125}
\definecolor{codecomment}{RGB}{106,153,85}
\definecolor{codekeyword}{RGB}{86,61,124}
\definecolor{codestring}{RGB}{215,58,73}
\definecolor{codenumber}{RGB}{0,92,197}
\definecolor{codefunction}{RGB}{111,66,193}
\definecolor{codeoperator}{RGB}{0,0,0}
\definecolor{vscodebg}{RGB}{30,30,30}
\definecolor{vscodestring}{RGB}{206,145,120}
\definecolor{vscodekeyword}{RGB}{86,156,214}
\definecolor{vscodecomment}{RGB}{106,153,85}
\definecolor{vscodefunction}{RGB}{220,220,170}
\definecolor{chapterbg}{RGB}{33,37,41}
\definecolor{nodegreen}{RGB}{139,195,74}
\definecolor{chromeblue}{RGB}{66,133,244}
\definecolor{firefoxorange}{RGB}{255,149,0}
\definecolor{safariblue}{RGB}{0,122,255}
\definecolor{timelineblue}{RGB}{70,130,180}
\definecolor{lightgray}{RGB}{245,245,245}
\definecolor{sectionblue}{RGB}{70,130,180}
\definecolor{subsectiongreen}{RGB}{139,195,74}
\definecolor{subsubsectiongray}{RGB}{108,117,125}
\definecolor{lightbg}{RGB}{248,249,250}
\definecolor{jsaccent}{RGB}{255,193,7}
\definecolor{jsdark}{RGB}{50,50,50}
\definecolor{pagebg}{RGB}{248,249,250}  % Define the missing pagebg color

% Optional: Use page background color (comment out if not wanted)
% \usepackage{pagecolor}
% \pagecolor{pagebg}

% ============================================
% CODE LISTING STYLES
% ============================================
\lstdefinestyle{modernlight}{
    backgroundcolor=\color{codebg},
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=single,
    framesep=10pt,
    framexleftmargin=10pt,
    framexrightmargin=10pt,
    framextopmargin=2pt,
    framexbottommargin=2pt,
    numbers=left,
    numberstyle=\tiny\color{linenumfg}\sffamily,
    numbersep=12pt,
    xleftmargin=25pt,
    showstringspaces=false,
    keywordstyle=\color{codekeyword}\bfseries,
    commentstyle=\color{codecomment}\itshape,
    stringstyle=\color{codestring},
    tabsize=2,
    captionpos=t,
    rulecolor=\color{codeframe},
    aboveskip=20pt,
    belowskip=15pt
}

\lstdefinestyle{vscodedark}{
    backgroundcolor=\color{vscodebg},
    basicstyle=\ttfamily\footnotesize\color{white},
    breaklines=true,
    frame=none,
    numbers=left,
    numberstyle=\tiny\color{gray!60}\sffamily,
    numbersep=10pt,
    xleftmargin=20pt,
    showstringspaces=false,
    keywordstyle=\color{vscodekeyword}\bfseries,
    commentstyle=\color{vscodecomment}\itshape,
    stringstyle=\color{vscodestring},
    identifierstyle=\color{white},
    tabsize=2,
    captionpos=t,
    aboveskip=20pt,
    belowskip=15pt
}

\lstdefinestyle{modernminimal}{
    backgroundcolor=\color{white},
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=shadowbox,
    framesep=8pt,
    rulesepcolor=\color{gray!20},
    shadowcolor=\color{gray!40},
    shadowsize=4pt,
    numbers=left,
    numberstyle=\scriptsize\color{gray!60}\sffamily,
    numbersep=10pt,
    xleftmargin=20pt,
    showstringspaces=false,
    keywordstyle=\color{blue!60!black}\bfseries,
    commentstyle=\color{green!50!black}\itshape,
    stringstyle=\color{red!60!black},
    tabsize=2,
    captionpos=t,
    aboveskip=15pt,
    belowskip=12pt
}

\lstdefinestyle{bookstyle}{
    backgroundcolor=\color{gray!3},
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=leftline,
    framesep=0pt,
    frameround=ffff,
    framexleftmargin=3pt,
    numbers=left,
    numberstyle=\tiny\color{gray!50}\sffamily,
    numbersep=10pt,
    xleftmargin=20pt,
    showstringspaces=false,
    keywordstyle=\color{black}\bfseries,
    commentstyle=\color{gray!60}\itshape,
    stringstyle=\color{black!80},
    tabsize=2,
    captionpos=t,
    rulecolor=\color{jsyellow},
    rulesep=2pt,
    framerule=3pt,
    aboveskip=15pt,
    belowskip=10pt
}

\lstdefinestyle{jsstyle}{
    backgroundcolor=\color{jsyellow!5},
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=tb,
    framesep=5pt,
    framexleftmargin=8pt,
    numbers=left,
    numberstyle=\tiny\color{gray!70}\sffamily,
    numbersep=10pt,
    xleftmargin=20pt,
    showstringspaces=false,
    keywordstyle=\color{blue!70!black}\bfseries,
    commentstyle=\color{green!50!black}\itshape,
    stringstyle=\color{orange!80!black},
    tabsize=2,
    captionpos=t,
    rulecolor=\color{jsyellow!50},
    framerule=2pt,
    aboveskip=15pt,
    belowskip=12pt
}

% JavaScript language definition
\lstdefinelanguage{JavaScript}{
    keywords={break, continue, delete, else, for, function, if, in, new, return, this, typeof, var, void, while, with, case, default, do, switch, throw, try, catch, finally, instanceof, class, const, let, async, await, extends, import, export, from, as, static, get, set, constructor, super, yield},
    ndkeywords={true, false, null, undefined, NaN, Infinity},
    sensitive=true,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    string=[b]',
    morestring=[b]",
    morestring=[b]`,
}

% Default listing settings
\lstset{
    style=modernlight,  % Changed to modernlight as default
    language=JavaScript
}

% Custom timeline style
\tikzset{
    timeline/.style={
        draw=timelineblue!70,
        fill=timelineblue!20,
        rounded corners=5pt,
        minimum height=0.8cm,
        minimum width=2.8cm,
        text centered,
        font=\footnotesize\bfseries,
        text width=2.5cm,
        align=center
    },
    milestone/.style={
        draw=jsyellow!70,
        fill=jsyellow!30,
        circle,
        minimum size=1cm,
        font=\footnotesize\bfseries
    },
    feature/.style={
        draw=blue!40,
        fill=blue!10,
        rounded corners=5pt,
        minimum width=3cm,
        minimum height=0.8cm,
        text centered,
        font=\footnotesize,
        text width=2.8cm,
        align=center
    }
}

% ============================================
% SECTIONING COMMANDS WITH PROPER MARKS
% ============================================

% CHAPTER COMMAND
\newcommand{\mychapter}[1]{%
    \clearpage
    \refstepcounter{chapter}
    \setcounter{section}{0}
    \setcounter{subsection}{0}
    \setcounter{subsubsection}{0}
    
    % Update marks for headers
    \markboth{\chaptername\ \thechapter.\ #1}{}%
    
    \vspace*{-1in}
    
    % Full-width dramatic header
    \noindent\begin{tikzpicture}[remember picture, overlay]
        % Dark background
        \fill[chapterbg] 
            (current page.north west) 
            rectangle 
            ([yshift=-4cm]current page.north east);
        
        % Yellow accent stripe
        \fill[jsyellow] 
            ([yshift=-4cm]current page.north west) 
            rectangle 
            ([yshift=-4.3cm]current page.north east);
        
        % Chapter number in hexagon
        \node[
            regular polygon,
            regular polygon sides=6,
            draw=jsyellow,
            fill=jsyellow,
            minimum size=3cm,
            rotate=30,
            drop shadow={shadow xshift=3pt, shadow yshift=3pt, opacity=0.4}
        ] at ([xshift=3.5cm, yshift=-2cm]current page.north west) (hexagon) {};
        
        \node[font=\fontsize{40}{40}\selectfont\bfseries, color=chapterbg] at (hexagon) {\thechapter};
        
        % Chapter label
        \node[
            font=\footnotesize\bfseries,
            color=jsyellow!70,
            anchor=west
        ] at ([xshift=7cm, yshift=-0.8cm]current page.north west) {CHAPTER \thechapter};
        
        % Chapter title
        \node[
            font=\fontsize{30}{34}\selectfont\bfseries,
            color=white,
            anchor=west
        ] at ([xshift=7cm, yshift=-2cm]current page.north west) {#1};
        
        % Decorative JS elements
        \node[font=\fontsize{50}{50}\selectfont, color=jsyellow!20, rotate=15] 
            at ([xshift=-3cm, yshift=-2.5cm]current page.north east) {\{~\}};
        \node[font=\fontsize{35}{35}\selectfont, color=jsyellow!15, rotate=-10] 
            at ([xshift=-5.5cm, yshift=-1.5cm]current page.north east) {//};
    \end{tikzpicture}
    
    \vspace{4cm}
    \addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}#1}
    \thispagestyle{plain}
}

% SECTION COMMAND
\newcommand{\mysection}[1]{%
    \vspace{1.2em}
    \refstepcounter{section}
    \setcounter{subsection}{0}
    \setcounter{subsubsection}{0}
    
    % Update mark for headers
    \markright{\thesection.\ #1}%
    
    \noindent\begin{tikzpicture}
        % Full-width colored banner
        \node[
            fill=sectionblue!80,
            minimum width=\textwidth,
            minimum height=1.2cm,
            anchor=west,
            rounded corners=3pt,
            inner sep=6pt
        ] (banner) {};
        
        % Section number
        \node[
            anchor=west,
            font=\bfseries\large,
            text=white
        ] at ([xshift=0.6cm]banner.west) {\thesection.};
        
        % Section title
        \node[
            anchor=west,
            font=\bfseries\large,
            text=white
        ] at ([xshift=2cm]banner.west) {#1};
    \end{tikzpicture}
    
    \vspace{0.5em}
    \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}
}

% SUBSECTION COMMAND
\newcommand{\mysubsection}[1]{%
    \vspace{0.8em}
    \refstepcounter{subsection}
    \setcounter{subsubsection}{0}
    
    \noindent\begin{tikzpicture}
        % Subsection container
        \node[
            draw=subsectiongreen!60,
            fill=white,
            minimum width=\textwidth,
            minimum height=1cm,
            rounded corners=5pt,
            inner sep=0pt
        ] (subbox) {};
        
        % Green accent bar on left
        \fill[subsectiongreen!80] 
            (subbox.west) 
            rectangle 
            ([xshift=0.3cm]subbox.west);
        
        % Subsection number
        \node[
            font=\small\bfseries,
            color=subsectiongreen!90
        ] at ([xshift=1.5cm]subbox.west) {\thesubsection};
        
        % Subsection title
        \node[
            font=\large\bfseries,
            color=black,
            anchor=west
        ] at ([xshift=3cm]subbox.west) {#1};
        
        % Small icon
        \node[
            font=\small,
            color=subsectiongreen!50
        ] at ([xshift=-1cm]subbox.east) {\faAngleRight};
    \end{tikzpicture}
    
    \vspace{0.3em}
    \addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}#1}
}

% SUBSUBSECTION COMMAND
\newcommand{\mysubsubsection}[1]{%
    \vspace{0.5em}
    \refstepcounter{subsubsection}
    
    \noindent\begin{tikzpicture}
        % Simple underlined style
        \node[
            anchor=west,
            minimum width=\textwidth,
            inner sep=0pt
        ] (subsubbox) {
            \color{subsubsectiongray}\small\bfseries 
            \thesubsubsection\quad
            \color{black}\normalsize\itshape #1
        };
        
        % Subtle underline
        \draw[gray!40, line width=0.5pt] 
            (subsubbox.south west) -- 
            ([xshift=\textwidth]subsubbox.south west);
    \end{tikzpicture}
    
    \vspace{0.2em}
}

% ============================================
% PAGE STYLES
% ============================================

\pagestyle{fancy}
\fancyhf{} % Clear all headers and footers

% Headers for oneside document
\fancyhead[L]{\small\textsf{\textcolor{sectionblue!70}{\nouppercase{\leftmark}}}}
\fancyhead[C]{\small\textsf{\textcolor{gray!50}{Full Stack Development}}}
\fancyhead[R]{\small\textsf{\textcolor{sectionblue!70}{\nouppercase{\rightmark}}}}

% Footer with page number
\fancyfoot[C]{%
    \tikz[baseline=(n.base)]{
        \node[
            fill=jsyellow!20,
            draw=jsyellow!40,
            rounded corners=3pt,
            inner xsep=8pt,
            inner ysep=2pt,
            font=\small\bfseries
        ] (n) {\textsf{\thepage}};
    }%
}

% Header rule
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\headrule}{%
    \hbox to\headwidth{\color{sectionblue!30}\leaders\hrule height \headrulewidth\hfill}%
}
\renewcommand{\footrulewidth}{0pt}

% Plain style for chapter opening pages
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{%
        \tikz[baseline=(n.base)]{
            \node[
                fill=jsyellow!20,
                draw=jsyellow!40,
                rounded corners=3pt,
                inner xsep=8pt,
                inner ysep=2pt,
                font=\small\bfseries
            ] (n) {\textsf{\thepage}};
        }%
    }
    \renewcommand{\headrulewidth}{0pt}
}

% Configure marks
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}

% Numbering format
\renewcommand{\thesection}{\thechapter.\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}

% Set numbering depth
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

% Custom itemize
\setlist[itemize]{
    topsep=0.2em,
    itemsep=0.2em,
    parsep=0pt,
    partopsep=0pt,
    leftmargin=2em,
    label=\textbullet
}

% ============================================
% DOCUMENT BEGINS HERE
% ============================================
\begin{document}
\frontmatter

% Title Page
\thispagestyle{empty}
\begin{titlepage}
    \begin{tikzpicture}[remember picture,overlay]
        \fill[headerred!10] (current page.north west) rectangle (current page.south east);
        \draw[headerred!30, line width=1pt] 
            ([xshift=1cm,yshift=-1cm]current page.north west) 
            rectangle ([xshift=-1cm,yshift=1cm]current page.south east);
    \end{tikzpicture}
    
    \vspace*{1cm}
    
    \begin{center}
        \begin{tikzpicture}
            \node[draw=none, fill=headerred, minimum width=10cm, minimum height=1.5cm, 
                  rounded corners=5pt, drop shadow] at (0,0) {
                \color{white}\Huge\bfseries FULL STACK
            };
            \node[draw=none, fill=jsyellow, 
                  minimum width=8cm, minimum height=1cm, rounded corners=3pt] at (0,-2) {
                \Large\bfseries DEVELOPMENT
            };
        \end{tikzpicture}
        
        \vspace{2cm}
        
        \begin{tikzpicture}[scale=2]
            \node[draw=none, fill=jsyellow, minimum width=3cm, minimum height=3cm, 
                  rounded corners=5pt, drop shadow] at (0,0) {
                \Huge\bfseries\color{black} JS
            };
        \end{tikzpicture}
        
        \vspace{2cm}
        
        {\Large\color{headerred} JavaScript, Bootstrap, ReactJS \& MongoDB}\\[0.5cm]
        {\large Essential Concepts for Modern Web Development}\\[1.5cm]
        
        \vfill
        
        \begin{tcolorbox}[
            colback=white,
            coltext=black,
            boxrule=2pt,
            arc=5pt,
            width=10cm,
            center,
            colframe=headerred
        ]
            \centering
            \large\bfseries Author: Rama Bhadra Rao Maddu\\[0.3cm]
            \small Version 1.0 | \today
        \end{tcolorbox}
    \end{center}
\end{titlepage}

% Copyright Page
\clearpage
\thispagestyle{empty}
\vspace*{3cm}
\begin{center}
    \large\bfseries Copyright Notice
\end{center}

\vspace{1cm}

© 2024 Rama Bhadra Rao Maddu. All Rights Reserved.

\vspace{1cm}

\textbf{Publisher:} Self Published\\
\textbf{Author:} Rama Bhadra Rao Maddu\\
\textbf{First Edition:} 2024

\vfill

% Book Objectives
\clearpage
\thispagestyle{empty}
\vspace*{2cm}
\begin{center}
    \large\bfseries Book Objectives
\end{center}

\vspace{1cm}

The main objective of this course is to provide comprehensive understanding on:

\begin{itemize}
    \item Essential JavaScript concepts for web development
    \item Bootstrap framework for responsive design
    \item ReactJS for building modern user interfaces
    \item MongoDB for NoSQL database management
    \item Full-stack application development workflow
\end{itemize}

This book bridges the gap between frontend and backend development, enabling readers to build complete web applications from scratch.

% Table of Contents
\clearpage
\tableofcontents

\mainmatter
\setcounter{chapter}{0}

% CHAPTER 1 - BASIC JAVASCRIPT
\mychapter{BASIC JAVASCRIPT}

\mysection{Introduction to JavaScript}

% Visual header with JavaScript logo
\begin{center}
\begin{tikzpicture}
    % JavaScript logo background
    \node[
        draw=jsyellow!70,
        fill=jsyellow!20,
        minimum width=\textwidth,
        minimum height=2.5cm,
        rounded corners=10pt,
        drop shadow
    ] (bg) {};
    
    % JS logo on left
    \node[
        draw=jsyellow!90,
        fill=jsyellow,
        minimum width=1.8cm,
        minimum height=1.8cm,
        rounded corners=3pt
    ] at (bg.west) [xshift=1.5cm] {\Huge\bfseries\color{black} JS};
    
    % Title in center
    \node[font=\Large\bfseries] at (bg.center) {JavaScript: The Language of the Web};
    
    % Icons on right
    \node[font=\Large] at (bg.east) [xshift=-2.5cm] {\faLaptopCode};
    \node[font=\Large] at (bg.east) [xshift=-1.5cm] {\faServer};
    \node[font=\Large] at (bg.east) [xshift=-0.5cm] {\faMobile};
\end{tikzpicture}
\end{center}

\vspace{0.5cm}

\mysubsection{What is JavaScript?}

JavaScript is a high-level, interpreted programming language that has become one of the core technologies of the World Wide Web, alongside HTML and CSS. Created by Brendan Eich in just 10 days at Netscape Communications in 1995, JavaScript has evolved from a simple scripting language to power complex applications across web, mobile, and server platforms.

\begin{tcolorbox}[
    colback=blue!5,
    colframe=blue!40,
    title={\faInfoCircle\space Quick Facts About JavaScript},
    fonttitle=\bfseries,
    width=\textwidth
]
\begin{tabular}{ll|ll}
\textbf{Created:} & May 1995 (10 days) & \textbf{Creator:} & Brendan Eich \\
\textbf{Company:} & Netscape Communications & \textbf{Initial Name:} & Mocha \\
\textbf{Renamed:} & LiveScript → JavaScript & \textbf{Standard:} & ECMAScript \\
\textbf{Current:} & ES2024 (ES15) & \textbf{Usage:} & 98\% of websites \\
\end{tabular}
\end{tcolorbox}

Originally named "Mocha," then "LiveScript," and finally "JavaScript" for marketing purposes (to capitalize on Java's popularity), JavaScript has no actual relationship with the Java programming language. The renaming was a strategic decision during the browser wars of the 1990s.

% Historical Timeline
\mysubsection{JavaScript Evolution Timeline}

\begin{center}
\begin{tikzpicture}[scale=0.85, transform shape]
    % Main timeline line
    \draw[thick, ->, >=Stealth] (0,0) -- (13,0) node[right, font=\small\bfseries] {Time};
    
    % Year markers and labels
    \foreach \x/\year in {0/1995, 2/1997, 4/2005, 6/2009, 8/2015, 10/2020, 12/2024} {
        \draw[thick] (\x,-0.15) -- (\x,0.15);
        \node[below, font=\footnotesize\bfseries] at (\x,-0.3) {\year};
    }
    
    % Events above timeline
    \node[timeline, above] at (0,1) {JavaScript\\Created};
    \node[timeline, above] at (2,1.8) {ECMAScript\\Standard};
    \node[timeline, above] at (4,1) {AJAX\\Revolution};
    \node[timeline, above] at (8,1.8) {ES6/ES2015\\Major Update};
    \node[timeline, above] at (12,1) {Current\\ES2024};
    
    % Events below timeline  
    \node[timeline, below, fill=nodegreen!20, draw=nodegreen!70] at (6,-1) {Node.js\\Created};
    \node[timeline, below] at (10,-1) {ES2020\\Features};
    
    % Connection lines
    \foreach \x in {0,2,4,6,8,10,12} {
        \draw[dashed, gray!50] (\x,0) -- (\x,0.8);
    }
    \draw[dashed, nodegreen!60, line width=1.5pt] (6,0) -- (6,-0.8);
    
    % Descriptions
    \node[font=\tiny, text width=2cm, align=center] at (0,-2) {Brendan Eich\\10 days};
    \node[font=\tiny, text width=2cm, align=center] at (6,-2) {Ryan Dahl\\Server-side JS};
    \node[font=\tiny, text width=2cm, align=center] at (8,-2) {Classes, Arrows\\Promises};
\end{tikzpicture}
\end{center}

% Creator profiles
\mysubsection{Key People in JavaScript History}


% VERSION 2: Alternative approach using minipages for better control
\begin{center}
\begin{tikzpicture}
    % Brendan Eich Card - Alternative style
    \node[
        draw=gray!40,
        fill=gray!5,
        rounded corners=8pt,
        drop shadow,
        text width=5cm,
        minimum height=3.5cm,
        inner sep=10pt
    ] (brendan2) at (0,0) {
        \begin{center}
        \vspace{-0.3cm}
        % Image with circular mask
        \begin{tikzpicture}
            \clip (0,0) circle (0.8cm);
            \node[inner sep=0pt] at (0,0) {
                \IfFileExists{brendan_eich.jpg}{
                    \includegraphics[width=1.6cm,height=1.6cm,keepaspectratio]{brendan_eich.jpg}
                }{
                    \color{gray!40}\Huge\faUserCircle
                }
            };
            \draw[gray!50, line width=1pt] (0,0) circle (0.8cm);
        \end{tikzpicture}
        
        \vspace{0.2cm}
        {\bfseries Brendan Eich}\\
        {\small JavaScript Creator}\\
        {\footnotesize\color{gray} 1995 - Netscape}\\
        {\footnotesize\itshape Co-founded Mozilla}
        \end{center}
    };
    
    % Ryan Dahl Card - Alternative style
    \node[
        draw=gray!40,
        fill=gray!5,
        rounded corners=8pt,
        drop shadow,
        text width=5cm,
        minimum height=3.5cm,
        inner sep=10pt
    ] (ryan2) at (6.5,0) {
        \begin{center}
        \vspace{-0.3cm}
        % Image with circular mask
        \begin{tikzpicture}
            \clip (0,0) circle (0.8cm);
            \node[inner sep=0pt] at (0,0) {
                \IfFileExists{ryan_dahl.jpg}{
                    \includegraphics[width=1.6cm,height=1.6cm,keepaspectratio]{ryan_dahl.jpg}
                }{
                    \color{gray!40}\Huge\faUserCircle
                }
            };
            \draw[gray!50, line width=1pt] (0,0) circle (0.8cm);
        \end{tikzpicture}
        
        \vspace{0.2cm}
        {\bfseries Ryan Dahl}\\
        {\small Node.js Creator}\\
        {\footnotesize\color{gray} 2009 - Server JS}\\
        {\footnotesize\itshape Also created Deno}
        \end{center}
    };
\end{tikzpicture}
\end{center}

\mysubsection{Key Characteristics of JavaScript}

JavaScript has several distinctive features that set it apart from other programming languages:

\begin{center}
\begin{tikzpicture}[scale=0.9, transform shape]
    % Central node
    \node[
        draw=jsyellow!70,
        fill=jsyellow!30,
        circle,
        minimum size=2cm,
        font=\small\bfseries,
        align=center
    ] (center) {JS\\Core};
    
    % Feature nodes
    \foreach \angle/\name/\desc in {
        0/{Dynamic Typing}/{Variables without types},
        45/{Interpreted}/{No compilation},
        90/{Event-driven}/{User interactions},
        135/{Prototype-based}/{Object inheritance},
        180/{First-class Functions}/{Functions as values},
        225/{Multi-paradigm}/{OOP, Functional},
        270/{Weakly Typed}/{Auto conversion},
        315/{Case-sensitive}/{A != a}
    } {
        \node[feature] (\angle) at (\angle:3.5cm) {\name};
        \draw[gray!40] (center) -- (\angle);
        \node[font=\tiny, text width=2.5cm, align=center] at (\angle:4.8cm) {\desc};
    }
\end{tikzpicture}
\end{center}

\mysubsection{JavaScript Engines Comparison}

Modern JavaScript engines compile and optimize code for performance. Each browser vendor maintains their own engine:

\begin{table}[h]
\centering
\caption{Comparison of Major JavaScript Engines}
\resizebox{\textwidth}{!}{%
\begin{tabular}{|l|c|c|c|c|}
\hline
\rowcolor{gray!20}
\textbf{Feature} & \textbf{V8} & \textbf{SpiderMonkey} & \textbf{JavaScriptCore} & \textbf{Chakra} \\
\hline
\textbf{Developer} & Google & Mozilla & Apple & Microsoft \\
\hline
\textbf{Used In} & Chrome, Edge, Node.js & Firefox & Safari, WebKit & IE (Deprecated) \\
\hline
\textbf{Written In} & C++ & C/C++ & C++ & C++ \\
\hline
\textbf{First Release} & 2008 & 1995 & 2001 & 2010 \\
\hline
\textbf{JIT Compiler} & TurboFan & IonMonkey & FTL JIT & Parallel JIT \\
\hline
\textbf{Interpreter} & Ignition & SpiderMonkey & LLInt & ByteCode \\
\hline
\textbf{Key Features} & Hidden classes, & Type inference, & 4-tier compilation, & Parallel compilation \\
                        & Inline caching & Shape analysis & DFG optimizer & (Deprecated 2020) \\
\hline
\textbf{Status} & \cellcolor{green!20}Active & \cellcolor{green!20}Active & \cellcolor{green!20}Active & \cellcolor{red!20}Deprecated \\
\hline
\end{tabular}%
}
\end{table}

\mysubsection{Client-side vs Server-side JavaScript}

JavaScript can run in two primary environments, each with distinct capabilities:

\begin{table}[h]
\centering
\caption{Client-side vs Server-side JavaScript Environments}
\resizebox{\textwidth}{!}{%
\begin{tabular}{|l|p{6cm}|p{6cm}|}
\hline
\rowcolor{gray!20}
\textbf{Aspect} & \textbf{Client-side (Browser)} & \textbf{Server-side (Node.js)} \\
\hline
\textbf{Runtime} & Web Browser & Node.js Runtime \\
\hline
\textbf{Engine} & V8, SpiderMonkey, JavaScriptCore & Primarily V8 \\
\hline
\textbf{Purpose} & UI interactivity, DOM manipulation & Backend logic, APIs, data processing \\
\hline
\textbf{File System} & \cellcolor{red!10}No access (security sandbox) & \cellcolor{green!10}Full file system access \\
\hline
\textbf{Database} & \cellcolor{red!10}No direct connection & \cellcolor{green!10}Direct database connectivity \\
\hline
\textbf{DOM Access} & \cellcolor{green!10}Full DOM API & \cellcolor{red!10}No DOM available \\
\hline
\textbf{Network} & Limited (CORS restrictions) & Full network capabilities \\
\hline
\textbf{Global Object} & \texttt{window} & \texttt{global} or \texttt{globalThis} \\
\hline
\textbf{Module System} & ES6 modules, AMD & CommonJS, ES6 modules \\
\hline
\textbf{Package Manager} & CDN, npm (build tools) & npm, yarn, pnpm \\
\hline
\textbf{Main APIs} & DOM, Fetch, WebStorage, Canvas & fs, http, process, crypto, stream \\
\hline
\textbf{Security} & Sandboxed environment & Full system access \\
\hline
\textbf{Concurrency} & Web Workers, async/await & Event loop, Worker threads \\
\hline
\end{tabular}%
}
\end{table}

% Visual comparison
\begin{center}
\begin{tikzpicture}[
    box/.style={
        rounded corners=10pt,
        minimum width=5cm,
        minimum height=4.5cm,
        align=center,
        font=\small
    }
]
    % Client-side box
    \node[box, draw=blue!60, fill=blue!10] (client) at (0,0) {};
    
    % Client content
    \node[font=\bfseries] at ([yshift=1.8cm]client.center) {\faGlobe\space Browser JavaScript};
    \node[align=left, font=\footnotesize] at (client.center) {
        \textbf{Can do:}\\
        • Manipulate DOM\\
        • Handle events\\
        • Make AJAX calls\\
        • Use browser APIs\\[0.2cm]
        \textbf{Cannot do:}\\
        • Access files\\
        • Query databases\\
        • Run system commands
    };
    
    % Server-side box
    \node[box, draw=nodegreen!60, fill=nodegreen!10] (server) at (6,0) {};
    
    % Server content
    \node[font=\bfseries] at ([yshift=1.8cm]server.center) {\faServer\space Node.js JavaScript};
    \node[align=left, font=\footnotesize] at (server.center) {
        \textbf{Can do:}\\
        • File operations\\
        • Database queries\\
        • Create servers\\
        • System access\\[0.2cm]
        \textbf{Cannot do:}\\
        • Access DOM\\
        • Use browser APIs\\
        • Direct UI updates
    };
    
    % Connection
    \draw[<->, thick, orange!60, line width=1.5pt] 
        (client.east) -- (server.west) 
        node[midway, above, font=\footnotesize\bfseries] {HTTP/WebSocket}
        node[midway, below, font=\tiny] {Data Exchange};
\end{tikzpicture}
\end{center}

\mysubsection{ECMAScript Standards Evolution}

ECMAScript is the standard upon which JavaScript is based. The evolution shows major feature additions:

\begin{center}
\begin{tikzpicture}[
    version/.style={
        draw=#1!60,
        fill=#1!20,
        rounded corners=5pt,
        minimum width=2.2cm,
        minimum height=0.7cm,
        font=\footnotesize\bfseries,
        align=center
    }
]
    % Timeline arrow
    \draw[thick, ->, >=Stealth] (0,0) -- (12,0) node[right, font=\small] {Present};
    
    % ES versions with alternating heights for clarity
    \node[version=red] at (0,0.8) {ES1\\1997};
    \node[version=orange] at (2,1.3) {ES3\\1999};
    \node[version=blue] at (4,0.8) {ES5\\2009};
    \node[version=green] at (6,1.3) {ES6\\2015};
    \node[version=purple] at (8,0.8) {ES2017};
    \node[version=teal] at (10,1.3) {ES2020};
    \node[version=brown] at (11.5,0.8) {ES2024};
    
    % Feature callouts
    \node[font=\tiny, align=center] at (0,-0.8) {First\\Standard};
    \node[font=\tiny, align=center] at (4,-0.8) {Strict mode\\JSON};
    \node[font=\tiny, align=center] at (6,-0.8) {Classes\\Promises};
    \node[font=\tiny, align=center] at (8,-0.8) {Async\\Await};
    \node[font=\tiny, align=center] at (10,-0.8) {Optional\\Chaining};
\end{tikzpicture}
\end{center}

\mysubsection{Modern JavaScript Ecosystem}

The JavaScript ecosystem has grown exponentially, encompassing various frameworks, tools, and platforms:

\begin{center}
\begin{tikzpicture}[
    eco/.style={
        draw=#1!60,
        fill=#1!20,
        rounded corners=6pt,
        minimum width=2.5cm,
        minimum height=0.9cm,
        font=\footnotesize,
        align=center
    }
]
    % Core
    \node[
        eco=jsyellow,
        minimum width=3.5cm,
        minimum height=1.2cm,
        font=\small\bfseries
    ] (core) at (0,0) {JavaScript};
    
    % Frontend frameworks
    \node[eco=blue] (react) at (-3,1.8) {React};
    \node[eco=green] (vue) at (0,1.8) {Vue.js};
    \node[eco=red] (angular) at (3,1.8) {Angular};
    
    % Runtime environments
    \node[eco=nodegreen] (node) at (-3,-1.8) {Node.js};
    \node[eco=purple] (deno) at (0,-1.8) {Deno};
    \node[eco=orange] (bun) at (3,-1.8) {Bun};
    
    % Build tools
    \node[eco=gray] (webpack) at (-4.5,0) {Webpack};
    \node[eco=gray] (vite) at (4.5,0) {Vite};
    
    % Package managers
    \node[eco=brown] (npm) at (-2,-3) {npm};
    \node[eco=brown] (yarn) at (0,-3) {yarn};
    \node[eco=brown] (pnpm) at (2,-3) {pnpm};
    
    % Category labels
    \node[font=\tiny\bfseries, color=gray] at (0,2.6) {Frontend Frameworks};
    \node[font=\tiny\bfseries, color=gray] at (0,-1) {Runtime Environments};
    \node[font=\tiny\bfseries, color=gray] at (0,-2.4) {Package Managers};
    \node[font=\tiny\bfseries, color=gray] at (-4.5,0.6) {Build Tools};
    
    % Connections
    \foreach \node in {react,vue,angular,node,deno,bun,webpack,vite} {
        \draw[gray!30, dashed] (core) -- (\node);
    }
\end{tikzpicture}
\end{center}

% Statistics box
\begin{tcolorbox}[
    colback=jsyellow!10,
    colframe=jsyellow!50,
    title={\faChartLine\space JavaScript Impact and Statistics (2024)},
    fonttitle=\bfseries,
    width=\textwidth
]
\begin{center}
\begin{tabular}{p{3cm}p{3cm}|p{3cm}p{3cm}}
\textbf{98\%} & of all websites & \textbf{2.3M+} & npm packages \\
\textbf{65\%} & developers use JS & \textbf{28M+} & GitHub repos \\
\textbf{\#1} & on Stack Overflow & \textbf{12M+} & developers worldwide \\
\end{tabular}
\end{center}
\end{tcolorbox}

\vspace{0.3cm}

JavaScript's journey from a simple scripting language to the backbone of modern web development demonstrates its adaptability and the strength of its community. Today, JavaScript powers everything from simple websites to complex applications, mobile apps, desktop software, and even IoT devices.
\mysection{JavaScript Instructions and Statements}

\mysubsection{Understanding Statements}

A JavaScript program is a sequence of statements. Each statement is an instruction that tells the JavaScript engine to perform a specific action. Statements are the building blocks of JavaScript programs and are executed sequentially unless control flow statements alter the execution path.

\mysubsection{Types of Statements}

JavaScript has several categories of statements:

\mysubsubsection{Expression Statements}
These evaluate to a value and often have side effects:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Expression Statements}}, label=lst:expr-statements]
// Assignment expression
x = 5;

// Function call expression
console.log("Hello");

// Increment/decrement expression
counter++;

// Method call expression
array.push(42);

// Complex expression with operators
result = (a + b) * c / d;
\end{lstlisting}

\mysubsubsection{Declaration Statements}
These declare variables, functions, or classes:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Declaration Statements}}, label=lst:decl-statements]
// Variable declarations
var oldStyle = "function-scoped";
let modernVariable = "block-scoped";
const constant = "immutable binding";

// Function declaration
function calculateSum(a, b) {
    return a + b;
}

// Class declaration (ES6)
class Rectangle {
    constructor(width, height) {
        this.width = width;
        this.height = height;
    }
}

// Destructuring declaration
const [first, second] = [1, 2];
const {name, age} = person;
\end{lstlisting}

\mysubsubsection{Control Flow Statements}
These control the execution flow of the program:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Control Flow Statements}}, label=lst:control-statements]
// Conditional statements
if (condition) {
    // code block
} else if (otherCondition) {
    // alternative block
} else {
    // default block
}

// Switch statement
switch (expression) {
    case value1:
        // code
        break;
    case value2:
        // code
        break;
    default:
        // default code
}

// Loop statements
for (let i = 0; i < 10; i++) {
    // loop body
}

while (condition) {
    // loop body
}

do {
    // loop body
} while (condition);

// Exception handling
try {
    // risky code
} catch (error) {
    // error handling
} finally {
    // cleanup code
}
\end{lstlisting}

\mysubsection{Statement Termination and Semicolons}

JavaScript uses semicolons to mark the end of statements, though they are often optional due to Automatic Semicolon Insertion (ASI):

\begin{lstlisting}[style=vscodedark, caption={\textbf{Semicolon Usage and ASI}}, label=lst:semicolons]
// Explicit semicolons (recommended)
let a = 5;
let b = 10;
console.log(a + b);

// ASI will insert semicolons here
let x = 5
let y = 10
console.log(x + y)

// Beware of ASI pitfalls
// This returns undefined due to ASI
function wrong() {
    return
    {
        value: 42
    }
}

// Correct version
function correct() {
    return {
        value: 42
    }
}

// Semicolons required to avoid errors
let name = "John"
;[1, 2, 3].forEach(n => console.log(n))

// Or use semicolon at start of line
let surname = "Doe"
;(function() {
    console.log("IIFE")
})()
\end{lstlisting}

\mysection{Comments in JavaScript}

\mysubsection{Purpose of Comments}

Comments are non-executable text in your code that serve multiple purposes:
\begin{itemize}
    \item Document code functionality and purpose
    \item Explain complex algorithms or business logic
    \item Leave notes for other developers (or future you)
    \item Temporarily disable code during debugging
    \item Provide API documentation and usage examples
    \item Mark TODOs and areas needing improvement
\end{itemize}

\mysubsection{Types of Comments}

\mysubsubsection{Single-line Comments}

Single-line comments start with \texttt{//} and continue to the end of the line:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Single-line Comments}}, label=lst:single-comments]
// This is a single-line comment
let userName = "Alice"; // This is an inline comment

// Multiple single-line comments
// can be used to create
// a comment block

// TODO: Add validation for email format
// FIXME: Handle edge case when array is empty
// NOTE: This method is deprecated, use newMethod() instead
// WARNING: Do not modify this value directly
// HACK: Temporary workaround for browser bug
\end{lstlisting}

\mysubsubsection{Multi-line Comments}

Multi-line comments are enclosed between \texttt{/*} and \texttt{*/}:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Multi-line Comments}}, label=lst:multi-comments]
/* 
   This is a multi-line comment.
   It can span multiple lines.
   Useful for longer explanations.
*/

/* Can also be used inline */ let value = 42;

/*
 * Starred multi-line comment
 * Often used for formal documentation
 * Each line starts with an asterisk for readability
 */

/* Temporarily disable code block
function oldImplementation() {
    // Old code here
}
*/
\end{lstlisting}

\mysubsubsection{JSDoc Comments}

JSDoc comments are special multi-line comments used for documentation generation:

\begin{lstlisting}[style=vscodedark, caption={\textbf{JSDoc Documentation Comments}}, label=lst:jsdoc-comments]
/**
 * Calculates the area of a rectangle.
 * @param {number} width - The width of the rectangle
 * @param {number} height - The height of the rectangle
 * @returns {number} The area of the rectangle
 * @throws {Error} If width or height is negative
 * @example
 * // Calculate area of a 5x10 rectangle
 * const area = calculateArea(5, 10);
 * console.log(area); // 50
 */
function calculateArea(width, height) {
    if (width < 0 || height < 0) {
        throw new Error("Dimensions must be positive");
    }
    return width * height;
}

/**
 * Represents a user in the system.
 * @class
 * @property {string} name - User's full name
 * @property {string} email - User's email address
 * @property {Date} createdAt - Account creation date
 */
class User {
    /**
     * Creates a new User instance.
     * @constructor
     * @param {string} name - User's name
     * @param {string} email - User's email
     */
    constructor(name, email) {
        this.name = name;
        this.email = email;
        this.createdAt = new Date();
    }
    
    /**
     * Gets the user's display name.
     * @returns {string} The formatted display name
     * @memberof User
     */
    getDisplayName() {
        return `${this.name} <${this.email}>`;
    }
}

/**
 * @typedef {Object} Point
 * @property {number} x - X coordinate
 * @property {number} y - Y coordinate
 */

/**
 * @enum {string}
 */
const Status = {
    PENDING: 'pending',
    ACTIVE: 'active',
    INACTIVE: 'inactive'
};
\end{lstlisting}

\mysection{Variables in JavaScript}

\mysubsection{Understanding Variables}

Variables are named containers that store data values. They are fundamental to programming as they allow us to store, retrieve, and manipulate data throughout our programs. In JavaScript, variables can hold any type of data and can change types during execution (dynamic typing).

\mysubsection{Variable Declaration Keywords}

JavaScript provides three keywords for declaring variables, each with different scoping rules and behaviors:

\mysubsubsection{var - Function-scoped Variables}

The \texttt{var} keyword is the original way to declare variables in JavaScript (ES5 and earlier):

\begin{lstlisting}[style=vscodedark, caption={\textbf{var Declaration Characteristics}}, label=lst:var-details]
// Basic var declaration
var message = "Hello";
var count = 0;
var isActive = true;

// var allows redeclaration
var user = "Alice";
var user = "Bob"; // No error, overwrites previous

// var is function-scoped, not block-scoped
function demonstrateVar() {
    if (true) {
        var innerVar = "I'm function-scoped";
    }
    console.log(innerVar); // Works! var ignores block scope
}

// var declarations are hoisted
console.log(hoistedVar); // undefined (not ReferenceError)
var hoistedVar = "I'm hoisted";

// var in loops
for (var i = 0; i < 3; i++) {
    setTimeout(function() {
        console.log(i); // Prints 3, 3, 3 (not 0, 1, 2)
    }, 100);
}

// Global object property
var globalVar = "I'm global";
console.log(window.globalVar); // "I'm global" (in browser)
\end{lstlisting}

\mysubsubsection{let - Block-scoped Variables}

The \texttt{let} keyword was introduced in ES6 for block-scoped variable declaration:

\begin{lstlisting}[style=vscodedark, caption={\textbf{let Declaration Characteristics}}, label=lst:let-details]
// Basic let declaration
let name = "John";
let age = 30;
let isStudent = false;

// let prevents redeclaration in same scope
let color = "blue";
// let color = "red"; // SyntaxError: already declared

// let is block-scoped
if (true) {
    let blockScoped = "Only in this block";
    console.log(blockScoped); // Works
}
// console.log(blockScoped); // ReferenceError

// let in loops (captures value correctly)
for (let i = 0; i < 3; i++) {
    setTimeout(function() {
        console.log(i); // Prints 0, 1, 2 correctly
    }, 100);
}

// Temporal Dead Zone (TDZ)
// console.log(tdzVariable); // ReferenceError
let tdzVariable = "Now accessible";

// let can be reassigned
let mutable = 10;
mutable = 20; // Allowed
mutable++; // Allowed

// Shadow variable in nested scope
let outer = "outer";
{
    let outer = "inner"; // Different variable
    console.log(outer); // "inner"
}
console.log(outer); // "outer"
\end{lstlisting}

\mysubsubsection{const - Block-scoped Constants}

The \texttt{const} keyword declares block-scoped constants with immutable bindings:

\begin{lstlisting}[style=vscodedark, caption={\textbf{const Declaration Characteristics}}, label=lst:const-details]
// Basic const declaration (must be initialized)
const PI = 3.14159;
const MAX_SIZE = 100;
const IS_PRODUCTION = true;

// const cannot be reassigned
const fixed = 42;
// fixed = 43; // TypeError: Assignment to constant

// const with objects (mutable contents)
const person = {
    name: "Alice",
    age: 25
};
person.age = 26; // Allowed - modifying property
person.email = "alice@example.com"; // Allowed - adding property
delete person.age; // Allowed - deleting property
// person = {}; // TypeError - cannot reassign

// const with arrays (mutable contents)
const numbers = [1, 2, 3];
numbers.push(4); // Allowed
numbers[0] = 10; // Allowed
numbers.pop(); // Allowed
// numbers = []; // TypeError - cannot reassign

// Object.freeze for true immutability
const frozen = Object.freeze({
    name: "Immutable",
    nested: { value: 42 }
});
// frozen.name = "Changed"; // Silently fails (error in strict mode)
frozen.nested.value = 100; // Still works! (shallow freeze)

// Deep freeze implementation
function deepFreeze(obj) {
    Object.freeze(obj);
    Object.values(obj).forEach(value => {
        if (typeof value === 'object' && value !== null) {
            deepFreeze(value);
        }
    });
    return obj;
}

const trulyImmutable = deepFreeze({
    level1: {
        level2: {
            value: "Cannot change"
        }
    }
});
\end{lstlisting}

\mysubsection{Variable Scope}

Scope determines where variables can be accessed in your code:

\mysubsubsection{Global Scope}

Variables declared outside any function or block have global scope:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Global Scope}}, label=lst:global-scope]
// Global variables
var globalVar = "I'm global with var";
let globalLet = "I'm global with let";
const globalConst = "I'm global with const";

// Implicit global (avoid this!)
function createGlobal() {
    implicitGlobal = "I'm accidentally global"; // No declaration keyword
}
createGlobal();
console.log(implicitGlobal); // Works but bad practice

// Global object access
console.log(window.globalVar); // Works (browser)
console.log(window.globalLet); // undefined (let doesn't create property)
console.log(global.globalVar); // Works (Node.js)
\end{lstlisting}

\mysubsubsection{Function Scope}

Variables declared inside a function are only accessible within that function:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Function Scope}}, label=lst:function-scope]
function demonstrateFunctionScope() {
    var functionVar = "Only in function";
    let functionLet = "Also only in function";
    const functionConst = "Same here";
    
    function innerFunction() {
        // Can access parent function's variables
        console.log(functionVar); // Works
        console.log(functionLet); // Works
        console.log(functionConst); // Works
        
        var innerVar = "Only in inner function";
    }
    
    innerFunction();
    // console.log(innerVar); // ReferenceError
}

demonstrateFunctionScope();
// console.log(functionVar); // ReferenceError
\end{lstlisting}

\mysubsubsection{Block Scope}

Variables declared with \texttt{let} and \texttt{const} inside a block are only accessible within that block:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Block Scope}}, label=lst:block-scope]
// Block scope with different keywords
{
    var blockVar = "I escape the block";
    let blockLet = "I'm trapped in block";
    const blockConst = "Me too";
}

console.log(blockVar); // Works (var ignores block)
// console.log(blockLet); // ReferenceError
// console.log(blockConst); // ReferenceError

// Conditional blocks
if (true) {
    let ifScoped = "Only in if block";
    const alsoIfScoped = "Same";
}

// Loop blocks
for (let i = 0; i < 3; i++) {
    let loopScoped = i * 2;
    const alsoLoopScoped = i * 3;
}
// console.log(i); // ReferenceError
// console.log(loopScoped); // ReferenceError

// Switch statement blocks
switch (true) {
    case true: {
        let caseScoped = "Only in this case";
        break;
    }
}
\end{lstlisting}

\mysubsection{Hoisting}

Hoisting is JavaScript's behavior of moving declarations to the top of their scope during compilation:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Complete Hoisting Examples}}, label=lst:hoisting-complete]
// var hoisting
console.log(varVariable); // undefined (declared but not initialized)
var varVariable = "Now initialized";
console.log(varVariable); // "Now initialized"

// let/const hoisting (Temporal Dead Zone)
// console.log(letVariable); // ReferenceError: Cannot access before initialization
// console.log(constVariable); // ReferenceError: Cannot access before initialization
let letVariable = "Let value";
const constVariable = "Const value";

// Function declaration hoisting
console.log(add(2, 3)); // 5 (fully hoisted)
function add(a, b) {
    return a + b;
}

// Function expression hoisting
// console.log(subtract(5, 2)); // TypeError: subtract is not a function
var subtract = function(a, b) {
    return a - b;
};

// Arrow function hoisting
// console.log(multiply(3, 4)); // TypeError: Cannot access before initialization
const multiply = (a, b) => a * b;

// Class hoisting
// const instance = new MyClass(); // ReferenceError: Cannot access before initialization
class MyClass {
    constructor() {
        this.value = 42;
    }
}

// Hoisting in practice
function demonstrateHoisting() {
    console.log(x); // undefined
    console.log(y); // ReferenceError
    console.log(z); // ReferenceError
    
    var x = 1;
    let y = 2;
    const z = 3;
    
    // Conceptually interpreted as:
    // var x; // Declaration hoisted
    // console.log(x); // undefined
    // console.log(y); // TDZ - error
    // console.log(z); // TDZ - error
    // x = 1; // Assignment stays
    // let y = 2; // Declaration and assignment
    // const z = 3; // Declaration and assignment
}
\end{lstlisting}

\mysection{Data Types in JavaScript}

\mysubsection{Type System Overview}

JavaScript uses dynamic typing, meaning variables don't have fixed types and can hold values of any type. The type is associated with the value, not the variable. JavaScript has seven primitive types and one complex type (Object).

\mysubsection{Primitive Data Types}

Primitive types are immutable and stored directly in the variable:

\mysubsubsection{Number Type}

The Number type represents both integers and floating-point numbers:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Number Type - Complete Examples}}, label=lst:number-type]
// Integer literals
let decimal = 42;
let negative = -100;
let zero = 0;

// Floating-point literals
let float = 3.14159;
let scientific = 2.5e3; // 2500
let smallScientific = 2.5e-3; // 0.0025

// Binary, octal, and hexadecimal
let binary = 0b1010; // 10 in decimal
let octal = 0o12; // 10 in decimal
let hex = 0xFF; // 255 in decimal

// Special numeric values
let infinity = Infinity;
let negInfinity = -Infinity;
let notANumber = NaN;

// Number properties
console.log(Number.MAX_VALUE); // 1.7976931348623157e+308
console.log(Number.MIN_VALUE); // 5e-324
console.log(Number.MAX_SAFE_INTEGER); // 9007199254740991
console.log(Number.MIN_SAFE_INTEGER); // -9007199254740991
console.log(Number.EPSILON); // 2.220446049250313e-16

// Number methods
console.log(Number.isInteger(42)); // true
console.log(Number.isInteger(42.0)); // true
console.log(Number.isInteger(42.1)); // false
console.log(Number.isFinite(100)); // true
console.log(Number.isFinite(Infinity)); // false
console.log(Number.isNaN(NaN)); // true
console.log(Number.isNaN("NaN")); // false (strict check)
console.log(Number.isSafeInteger(9007199254740991)); // true
console.log(Number.isSafeInteger(9007199254740992)); // false

// Parsing numbers
console.log(Number.parseInt("42")); // 42
console.log(Number.parseInt("42.5")); // 42
console.log(Number.parseInt("101", 2)); // 5 (binary)
console.log(Number.parseFloat("3.14")); // 3.14
console.log(Number.parseFloat("3.14some")); // 3.14

// Number instance methods
let num = 123.456;
console.log(num.toFixed(2)); // "123.46"
console.log(num.toPrecision(5)); // "123.46"
console.log(num.toExponential(2)); // "1.23e+2"
console.log(num.toString()); // "123.456"
console.log(num.toString(2)); // Binary representation

// Arithmetic operations
console.log(10 + 5); // 15
console.log(10 - 5); // 5
console.log(10 * 5); // 50
console.log(10 / 5); // 2
console.log(10 % 3); // 1 (remainder)
console.log(2 ** 3); // 8 (exponentiation)

// Increment and decrement
let counter = 0;
console.log(counter++); // 0 (post-increment)
console.log(++counter); // 2 (pre-increment)
console.log(counter--); // 2 (post-decrement)
console.log(--counter); // 0 (pre-decrement)

// Math object methods
console.log(Math.round(4.7)); // 5
console.log(Math.ceil(4.1)); // 5
console.log(Math.floor(4.9)); // 4
console.log(Math.trunc(4.9)); // 4
console.log(Math.abs(-5)); // 5
console.log(Math.pow(2, 3)); // 8
console.log(Math.sqrt(16)); // 4
console.log(Math.max(1, 5, 3)); // 5
console.log(Math.min(1, 5, 3)); // 1
console.log(Math.random()); // Random 0-1
console.log(Math.PI); // 3.141592653589793
console.log(Math.E); // 2.718281828459045
\end{lstlisting}

\mysubsubsection{String Type}

Strings represent textual data as a sequence of characters:

\begin{lstlisting}[style=vscodedark, caption={\textbf{String Type - Complete Examples}}, label=lst:string-type]
// String creation
let single = 'Single quotes';
let double = "Double quotes";
let template = `Template literal`;

// Escape sequences
let escaped = "She said \"Hello\"";
let newline = "First line\nSecond line";
let tab = "Column1\tColumn2";
let backslash = "Path\\to\\file";
let unicode = "\u0048\u0065\u006C\u006C\u006F"; // "Hello"

// Template literals (ES6)
let name = "Alice";
let age = 30;
let multiline = `
    This is a multiline
    string using template literals
`;
let interpolated = `Hello, ${name}! You are ${age} years old.`;
let expression = `2 + 2 = ${2 + 2}`;

// String properties and methods
let text = "JavaScript Programming";

// Length property
console.log(text.length); // 22

// Character access
console.log(text[0]); // "J"
console.log(text.charAt(4)); // "S"
console.log(text.charCodeAt(0)); // 74 (Unicode)

// Case conversion
console.log(text.toUpperCase()); // "JAVASCRIPT PROGRAMMING"
console.log(text.toLowerCase()); // "javascript programming"

// Searching
console.log(text.indexOf("Script")); // 4
console.log(text.lastIndexOf("a")); // 10
console.log(text.includes("Java")); // true
console.log(text.startsWith("Java")); // true
console.log(text.endsWith("ing")); // true
console.log(text.search(/script/i)); // 4 (regex)

// Extraction
console.log(text.substring(0, 10)); // "JavaScript"
console.log(text.substr(4, 6)); // "Script" (deprecated)
console.log(text.slice(0, 10)); // "JavaScript"
console.log(text.slice(-11)); // "Programming"

// Modification (returns new string)
console.log(text.replace("JavaScript", "TypeScript"));
console.log(text.replaceAll("a", "A")); // ES2021
console.log("  trim me  ".trim()); // "trim me"
console.log("  trim me  ".trimStart()); // "trim me  "
console.log("  trim me  ".trimEnd()); // "  trim me"
console.log("pad".padStart(6, "0")); // "000pad"
console.log("pad".padEnd(6, "!")); // "pad!!!"

// Splitting and joining
console.log("a,b,c".split(",")); // ["a", "b", "c"]
console.log("hello".split("")); // ["h","e","l","l","o"]
console.log(["a", "b", "c"].join("-")); // "a-b-c"

// Repeat and concatenation
console.log("Ha".repeat(3)); // "HaHaHa"
console.log("Hello".concat(" ", "World")); // "Hello World"

// String comparison
console.log("a" < "b"); // true (lexicographic)
console.log("2" < "10"); // false (string comparison)
console.log("apple".localeCompare("banana")); // -1

// Regular expression methods
let pattern = /[0-9]+/g;
console.log("abc123def456".match(pattern)); // ["123", "456"]
console.log("test@email.com".match(/@/)); // ["@"]
\end{lstlisting}

\mysubsubsection{Boolean Type}

Boolean represents logical values true or false:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Boolean Type and Truthy/Falsy Values}}, label=lst:boolean-type]
// Boolean literals
let isTrue = true;
let isFalse = false;

// Boolean constructor
console.log(Boolean(1)); // true
console.log(Boolean(0)); // false
console.log(Boolean("text")); // true
console.log(Boolean("")); // false

// Falsy values (convert to false)
console.log(Boolean(false)); // false
console.log(Boolean(0)); // false
console.log(Boolean(-0)); // false
console.log(Boolean(0n)); // false (BigInt zero)
console.log(Boolean("")); // false
console.log(Boolean(null)); // false
console.log(Boolean(undefined)); // false
console.log(Boolean(NaN)); // false

// Truthy values (everything else)
console.log(Boolean(true)); // true
console.log(Boolean(1)); // true
console.log(Boolean("0")); // true (non-empty string)
console.log(Boolean("false")); // true (non-empty string)
console.log(Boolean([])); // true (empty array)
console.log(Boolean({})); // true (empty object)
console.log(Boolean(function(){})); // true

// Logical operators
console.log(true && true); // true
console.log(true && false); // false
console.log(true || false); // true
console.log(false || false); // false
console.log(!true); // false
console.log(!false); // true

// Short-circuit evaluation
let a = true && "value"; // "value"
let b = false && "value"; // false
let c = true || "default"; // true
let d = false || "default"; // "default"

// Practical usage
function checkValue(value) {
    if (value) {
        console.log("Truthy value");
    } else {
        console.log("Falsy value");
    }
}

// Double negation for boolean conversion
let boolValue = !!"text"; // true
let boolValue2 = !!0; // false
\end{lstlisting}

\mysubsubsection{Undefined and Null Types}

Undefined and null represent absence of value:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Undefined and Null Types}}, label=lst:undefined-null]
// Undefined - variable declared but not assigned
let undefinedVar;
console.log(undefinedVar); // undefined
console.log(typeof undefinedVar); // "undefined"

// Undefined scenarios
function noReturn() {
    // No return statement
}
console.log(noReturn()); // undefined

function missingParam(param) {
    console.log(param); // undefined if not passed
}
missingParam();

let obj = {};
console.log(obj.nonExistent); // undefined

let arr = [1, 2, 3];
console.log(arr[10]); // undefined

// Null - intentional absence of value
let nullVar = null;
console.log(nullVar); // null
console.log(typeof nullVar); // "object" (historical bug)

// Null vs Undefined
console.log(null == undefined); // true (loose equality)
console.log(null === undefined); // false (strict equality)

// Checking for null or undefined
function checkNullOrUndefined(value) {
    if (value == null) {
        // Catches both null and undefined
        console.log("Value is null or undefined");
    }
    
    if (value === null) {
        console.log("Value is strictly null");
    }
    
    if (value === undefined) {
        console.log("Value is strictly undefined");
    }
    
    if (typeof value === "undefined") {
        console.log("Value is undefined (safe check)");
    }
}

// Nullish coalescing operator (ES2020)
let value1 = null ?? "default"; // "default"
let value2 = undefined ?? "default"; // "default"
let value3 = 0 ?? "default"; // 0 (not nullish)
let value4 = "" ?? "default"; // "" (not nullish)

// Optional chaining with null/undefined
let user = null;
console.log(user?.name); // undefined (no error)
\end{lstlisting}

\mysubsubsection{Symbol Type}

Symbols are unique identifiers introduced in ES6:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Symbol Type}}, label=lst:symbol-type]
// Creating symbols
let sym1 = Symbol();
let sym2 = Symbol("description");
let sym3 = Symbol("description");

// Symbols are always unique
console.log(sym2 === sym3); // false

// Symbol properties
console.log(sym2.toString()); // "Symbol(description)"
console.log(sym2.description); // "description" (ES2019)

// Symbols as object keys
let id = Symbol("id");
let user = {
    name: "Alice",
    [id]: 12345
};

console.log(user[id]); // 12345
console.log(user.id); // undefined (different from symbol)

// Symbols are not enumerable
console.log(Object.keys(user)); // ["name"]
console.log(Object.getOwnPropertySymbols(user)); // [Symbol(id)]

// Well-known symbols
let iterable = {
    [Symbol.iterator]: function*() {
        yield 1;
        yield 2;
        yield 3;
    }
};

for (let value of iterable) {
    console.log(value); // 1, 2, 3
}

// Global symbol registry
let globalSym1 = Symbol.for("app.id");
let globalSym2 = Symbol.for("app.id");
console.log(globalSym1 === globalSym2); // true

console.log(Symbol.keyFor(globalSym1)); // "app.id"
\end{lstlisting}

\mysubsubsection{BigInt Type}

BigInt represents arbitrarily large integers (ES2020):

\begin{lstlisting}[style=vscodedark, caption={\textbf{BigInt Type}}, label=lst:bigint-type]
// Creating BigInts
let bigInt1 = 123n;
let bigInt2 = BigInt(456);
let bigInt3 = BigInt("789012345678901234567890");

// BigInt operations
console.log(10n + 20n); // 30n
console.log(100n - 50n); // 50n
console.log(3n * 4n); // 12n
console.log(10n / 3n); // 3n (integer division)
console.log(10n % 3n); // 1n
console.log(2n ** 10n); // 1024n

// BigInt limitations
// console.log(10n + 5); // TypeError: Cannot mix BigInt and other types
console.log(10n + BigInt(5)); // 15n

// Comparison
console.log(10n > 5n); // true
console.log(10n == 10); // true (loose equality)
console.log(10n === 10); // false (strict equality)

// BigInt methods
console.log(BigInt.asIntN(3, 5n)); // 5n
console.log(BigInt.asUintN(3, 5n)); // 5n

// Use cases for BigInt
let maxSafeInt = Number.MAX_SAFE_INTEGER;
console.log(maxSafeInt); // 9007199254740991
console.log(maxSafeInt + 1); // 9007199254740992
console.log(maxSafeInt + 2); // 9007199254740992 (precision lost)

let bigSafeInt = BigInt(maxSafeInt);
console.log(bigSafeInt + 1n); // 9007199254740992n
console.log(bigSafeInt + 2n); // 9007199254740993n (correct)
\end{lstlisting}

\mysubsection{Non-Primitive Type: Object}

Objects are complex data types that can contain multiple values:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Object Type - Complete Reference}}, label=lst:object-complete]
// Object literal creation
let person = {
    firstName: "John",
    lastName: "Doe",
    age: 30,
    isEmployed: true,
    address: {
        street: "123 Main St",
        city: "New York",
        zip: "10001"
    },
    hobbies: ["reading", "gaming", "hiking"],
    
    // Method
    getFullName: function() {
        return this.firstName + " " + this.lastName;
    },
    
    // Shorthand method (ES6)
    greet() {
        return `Hello, I'm ${this.firstName}`;
    },
    
    // Getter
    get fullName() {
        return `${this.firstName} ${this.lastName}`;
    },
    
    // Setter
    set fullName(name) {
        [this.firstName, this.lastName] = name.split(" ");
    }
};

// Accessing properties
console.log(person.firstName); // Dot notation
console.log(person["lastName"]); // Bracket notation
let prop = "age";
console.log(person[prop]); // Dynamic property access

// Nested access
console.log(person.address.city);
console.log(person["address"]["zip"]);

// Adding properties
person.email = "john@example.com";
person["phone"] = "555-1234";

// Deleting properties
delete person.phone;

// Property existence check
console.log("email" in person); // true
console.log(person.hasOwnProperty("email")); // true

// Object methods
console.log(Object.keys(person)); // Array of keys
console.log(Object.values(person)); // Array of values
console.log(Object.entries(person)); // Array of [key, value]

// Object.assign (shallow copy)
let copied = Object.assign({}, person);
let merged = Object.assign({}, person, {age: 31, city: "Boston"});

// Spread operator (ES6)
let spread = {...person};
let extended = {...person, salary: 50000};

// Object destructuring
let {firstName, age} = person;
let {address: {city}} = person; // Nested destructuring

// Object creation patterns
// Constructor function
function Car(make, model) {
    this.make = make;
    this.model = model;
}
let myCar = new Car("Toyota", "Camry");

// Object.create
let prototype = {
    greet() {
        return `Hello, ${this.name}`;
    }
};
let obj = Object.create(prototype);
obj.name = "Alice";

// Factory function
function createUser(name, age) {
    return {
        name,
        age,
        isAdult() {
            return this.age >= 18;
        }
    };
}

// ES6 Classes
class Animal {
    constructor(name, species) {
        this.name = name;
        this.species = species;
    }
    
    speak() {
        return `${this.name} makes a sound`;
    }
    
    static getKingdom() {
        return "Animalia";
    }
}

let dog = new Animal("Buddy", "dog");
\end{lstlisting}

\mysection{Type Conversion and Coercion}

\mysubsection{Explicit Type Conversion}

Explicit conversion (type casting) is when you manually convert from one type to another:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Explicit Type Conversion Methods}}, label=lst:explicit-conversion]
// Converting to String
String(123); // "123"
String(true); // "true"
String(null); // "null"
String(undefined); // "undefined"
String([1, 2, 3]); // "1,2,3"
String({a: 1}); // "[object Object]"

(123).toString(); // "123"
(true).toString(); // "true"

// Converting to Number
Number("123"); // 123
Number("123.45"); // 123.45
Number(""); // 0
Number("  10  "); // 10
Number(true); // 1
Number(false); // 0
Number(null); // 0
Number(undefined); // NaN
Number("hello"); // NaN

parseInt("123"); // 123
parseInt("123.45"); // 123
parseInt("123abc"); // 123
parseFloat("123.45"); // 123.45

// Unary + operator
+"123"; // 123
+true; // 1
+""; // 0

// Converting to Boolean
Boolean(1); // true
Boolean(0); // false
Boolean("hello"); // true
Boolean(""); // false
Boolean({}); // true
Boolean([]); // true
Boolean(null); // false
Boolean(undefined); // false

// Double negation
!!"hello"; // true
!!0; // false
\end{lstlisting}

\mysubsection{Implicit Type Coercion}

JavaScript automatically converts types when needed:

\begin{lstlisting}[style=vscodedark, caption={\textbf{Implicit Type Coercion Examples}}, label=lst:implicit-coercion]
// String coercion
"5" + 3; // "53" (number to string)
"Hello " + true; // "Hello true"
"Value: " + null; // "Value: null"

// Numeric coercion
"5" - 3; // 2 (string to number)
"5" * "2"; // 10
"10" / 2; // 5
"5" - "2"; // 3

// Boolean coercion in conditions
if ("hello") { /* truthy */ }
if (0) { /* falsy */ }

// Comparison coercion
"5" == 5; // true (coercion)
"5" === 5; // false (no coercion)
null == undefined; // true
null === undefined; // false

true == 1; // true
false == 0; // true
"1" == true; // true

// Special cases
[] == false; // true
[] == ![]; // true (confusing!)
{} + []; // 0 (block vs object)
[] + {}; // "[object Object]"
\end{lstlisting}

% End of enhanced Chapter 1
% Additional chapters would continue with similar detail...
\mychapter{DOM Manipulation and Events}
hello
\end{document}